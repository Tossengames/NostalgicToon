<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nostalgia TV</title>

  <!-- FONT -->
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

  <!-- STYLE -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<!-- BACKDROP -->
<div class="tv-backdrop"></div>

<!-- HIDDEN FORM (GOOGLE FORM SUBMIT) -->
<iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

<form id="submissionForm"
      target="hidden_iframe"
      method="POST"
      action="https://docs.google.com/forms/d/e/1FAIpQLSebUTZIz5BC-l3I_iX9zguGN6XcoZ12ocZh6MvbWulyNCQ7ww/formResponse">
  <input type="hidden" name="entry.873128711" id="f_link">
  <input type="hidden" name="entry.3875702" id="f_name">
</form>

<!-- ================= TV VIEW ================= -->
<section id="tv" class="view active">

  <div class="tv-unit">

    <!-- TOP BAR -->
    <div class="tv-top">
      <span class="model animated-title">NOSTALGIA-TV</span>
      <span class="now-playing" id="nowPlayingTitle"></span>
    </div>

    <!-- SCREEN -->
    <div class="screen-area">
      <div class="screen-glow"></div>

      <div class="indicator top-left"></div>
      <div class="indicator top-right"></div>
      <div class="indicator bottom-left"></div>
      <div class="indicator bottom-right"></div>

      <div class="glass-reflection"></div>
      <div class="noise"></div>
      <div class="scanlines"></div>

      <!-- IMPORTANT: pointer-events MUST be enabled -->
      <iframe
        id="player"
        allow="autoplay; encrypted-media"
        allowfullscreen>
      </iframe>
    </div>

    <!-- PANEL -->
    <div class="panel">

      <!-- INFO BAR -->
      <div class="info-section">
        <div id="videoInfoDisplay" class="video-info-bar"></div>
      </div>

      <!-- BUTTONS -->
      <div class="button-row">
        <button id="btnInfo" class="action-btn about-btn">üìª ABOUT</button>

        <button id="btnSwitch" class="play-btn">
          <span class="play-icon">‚ñ∂</span>
          <span class="play-text">PLAY</span>
        </button>

        <button id="btnShowName" class="action-btn info-btn">üìã INFO</button>
        <button id="btnSubmit" class="action-btn submit-btn">üì§ UPLOAD</button>
        <button id="btnSettings" class="action-btn settings-btn">‚öôÔ∏è SET</button>
      </div>

    </div>
  </div>
</section>

<!-- ================= SUBMIT VIEW ================= -->
<section id="submit" class="view">

  <div class="retro-card">
    <div class="terminal-header">üì§ SHARE A VIDEO</div>

    <p class="instruction-text">
      PASTE ANY VIDEO LINK (YouTube, Vimeo, TikTok, Dailymotion)
    </p>

    <div class="field">
      <label>VIDEO LINK *</label>
      <input id="s_link" type="text" placeholder="https://..." />
    </div>

    <div class="field">
      <label>YOUR NAME (optional)</label>
      <input id="s_name" type="text" placeholder="Nameless" />
    </div>

    <button id="btnSend" class="glitch-btn" disabled>üì° SEND TO TV</button>

    <div id="submitMessage" class="submit-message"></div>

    <button class="back-link" onclick="showTV()">‚Üê BACK TO TV</button>
  </div>

</section>

<!-- ================= SETTINGS ================= -->
<div id="settings" class="overlay">
  <div class="retro-card settings-card">

    <div class="terminal-header">‚öôÔ∏è AUDIO SETTINGS</div>

    <div class="settings-group">

      <div class="setting-item">
        <label>üîä 8D EFFECT</label>
        <div class="toggle-switch">
          <input type="checkbox" id="setting8D" checked>
          <span class="toggle-slider"></span>
        </div>
      </div>

      <div class="setting-item">
        <label>üéµ REVERB</label>
        <div class="toggle-switch">
          <input type="checkbox" id="settingReverb" checked>
          <span class="toggle-slider"></span>
        </div>
      </div>

      <div class="setting-item">
        <label>üìª HUM VOLUME</label>
        <input type="range" id="humVolume" min="0" max="100" value="15" class="volume-slider">
        <span id="humVolumeValue" class="volume-value">15%</span>
      </div>

      <div class="setting-item">
        <label>üîä TEST SOUND</label>
        <button id="testSoundBtn" class="test-btn">PLAY TEST</button>
      </div>

    </div>

    <div class="settings-note">
      ‚ö° First click anywhere enables audio
    </div>

    <button class="glitch-btn" onclick="closeSettings()">CLOSE</button>

  </div>
</div>

<!-- ================= INFO ================= -->
<div id="info" class="overlay">
  <div class="retro-card">

    <div class="terminal-header">üì∫ NOSTALGIA TV</div>

    <p style="color:#ff99cc;">‚ú® COMMUNITY VIBES ‚ú®</p>
    <p style="color:#66ccff;">‚ñ∂ CLICK PLAY FOR RANDOM VIDEO</p>
    <p style="color:#99ff99;">üì§ SHARE YOUR FAVORITES</p>
    <p style="color:#ffd966;">üìã INFO TOGGLES VIDEO DETAILS</p>
    <p style="color:#ffaa00;">‚öôÔ∏è SETTINGS FOR AUDIO EFFECTS</p>

    <button class="glitch-btn" onclick="closeInfo()">CLOSE</button>
  </div>
</div>

<!-- ================= AUDIO ELEMENTS ================= -->
<!-- DO NOT AUTOPLAY / DO NOT PRELOAD -->
<audio id="sfxClick" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_4b77a0a9d5.mp3"></audio>
<audio id="sfxStatic" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_5c68b1c0b0.mp3"></audio>
<audio id="sfxHum" src="https://cdn.pixabay.com/download/audio/2021/08/08/audio_9a93c0a6f7.mp3" loop></audio>
<audio id="sfxSuccess" src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_6a8c0a4d8f.mp3"></audio>

<!-- SCRIPT -->
<script src="app.js"></script>

</body>
</html>